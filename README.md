# ガントチャートレポート

ブラウザだけで動くガントチャート型の進捗管理・報告アプリを実装するリポジトリです。タスクバーをマウスで直接操作でき、ローカルストレージに保存しつつ、進捗報告文を自動生成することを狙います。

## 想定する主な機能
- ガントチャート: タスクバーをドラッグして移動、左右端をドラッグして開始/終了日をリサイズ。今日のライン表示や遅延タスクの強調表示を持つ。
- タスク一覧テーブル: インライン編集、ソート/簡易フィルタ、行選択とガント連動、`+ 新規タスク` 行での追加、Delete で削除。
- 進捗報告文生成: 期間・プロジェクト・一時タスク含有を選択できるモーダル。生成テキストをコピー可能。
- 作業ログ/一時タスク: 下部タブで一覧・追加・編集・削除。フローティング `＋一時タスク` ボタンからクイック追加。
- キーボードショートカット: `Ctrl+S` 保存、`Ctrl+F` 検索、`N` 新規行フォーカス、`Ctrl+Enter` モーダル決定、`Ctrl+Z/Y` Undo/Redo。IME入力中は誤作動しないよう配慮。
- データ永続化: `AppState` を localStorage に保存。自動保存（ディレイあり）と手動保存の両方を備える。

## 画面構成（想定）
- ヘッダー: プロジェクト選択、期間プリセット、簡易サマリー、`進捗報告文生成` ボタン。
- 中央左右: 左にタスク一覧、右にガントチャート（タスク行とバーが同期）。
- 下部タブ: `作業ログ` と `一時タスク`。
- 右側パネル: 選択タスクの詳細/進捗編集。
- フローティングボタン: `＋一時タスク` でどこからでも追加。

## データモデルと保存
- `AppState` には `projects`, `tasks`, `workLogs`, `adhocTasks`, `uiPreferences` を保持。
- 日付は `YYYY-MM-DD` 文字列。進捗は 0–100 の数値。
- 保存キー例: `ganttProgressAppState`。保存/読み込み時はエラーハンドリングと将来のマイグレーションフックを用意。

## 動作環境
- フロントエンドのみ（HTML/CSS/Vanilla JS、フレームワークなし）。
- サーバー不要、`index.html` をブラウザで開くだけで動作する想定。
- データは localStorage に保存されオフラインで利用可能。

## 開発・テスト
- 主要ロジックのユニットテストに Jest を使用。
- セットアップ: `npm install`（未作成なら `npm init -y` で初期化）。
- テスト実行: `npm test`。

## ファイル構成の目安
- `index.html` / `style.css` / `main.js`（または `state.js`, `gantt.js`, `report.js` などの分割モジュール）
- `__tests__/` 配下にテストファイル、必要に応じて `jest.config.*`
- `package.json` に `test` スクリプトを定義
- `requirements.md` に要件定義書を管理（詳細や更新履歴をここに追記予定）
